# DIL: 이펙티브 타입스크립트

> 스터디: 월간 CS, https://github.com/monthly-cs/2024-05-effective-typescript  
> 작성일: 2024-06-17
> 작성자: paran22

---

## 7장. 코드를 작성하고 실행하기
## 아이템 53. 타입스크립트 기능보다는 ECMAScript 기능을 사용하기

- 자바스크립트에 새로 추가된 기능은 타입스크립트 초기 버전에서 독립적으로 개발했던 기능과 호환성 문제가 있다.
- 타입스크립트는 자바스크립트의 신규 기능을 그대로 채택하고 타입스크립트의 초기 버전과의 호환성을 포기했다.
- 자바스크립트 팀은 런타임 기능을, 타입스크립트 팀은 타입 기능만 발전시킨다는 명확한 원칙이 세워졌다.
- 다음의 기능들은 타입 공간과 값 공간의 경계를 혼란스럽게 만들기 때문에 사용하지 않는 것이 좋다.

### 열거형(enum)
- 타입스크립트의 열거형은 상황에 따라 다르게 동작한다.
- 숫자 열거형: 0, 1, 2외에 다른 숫자가 할당되면 위험하고, 런타임에 완전히 제거된다.
- preserveConstEnums 플래그를 설정하면 보통의 열거형처럼 런타임 코드에 상수 열거형 정보를 유지한다.
- 문자열 열거형은 런타임의 타입 안전성과 투명성을 제공하나, 구조적 타이핑이 아닌 명목적 타이핑(타입의 이름이 같아야 할당 허용)을 사용한다.
- 자바스크립트와 타입스크립트의 동작이 다르기 때문에 문자열 열거형 대신 리터럴 타입의 유니온을 권한다.

### 매개변수 속성
- 타입스크립트는 클래스를 초기화할 때 속성을 할당하기 위해 생성자의 매개변수를 간결한 방식으로 제시한다.
- public name을 매개변수 속성이라고 한다.
- 일반적으로 타입스크립트 컴파일은 타입 제거가 이루어지므로 코드가 줄어들지만, 매개변수 속성은 코드가 늘어난다.
- 런타임에는 실제로 사용되지만, 타입스크립트 관점에서는 사용되지 않는 것처럼 보인다.
- 매개변수 속성과 일반 속성을 섞어서 사용하면 클래스의 설계가 혼란스러워진다.
- 클래스에 매개변수 속성만 존재한다면 클래스 대신 인터페이스로 만들고 객체 리터럴을 사용하는 것이 좋다.
- 구조적 타이핑 특성 때문에 다음과 같이 할당할 수 있다.
```ts
const p: Person = {name: 'Jeb Bartlet};
````
- 매개변수 속성은 타입스크립트의 다른 패턴들과 이질적이고 초보자에게 생소한 문법이다.
- 매개변수 속성과 일반 속성을 같이 사용하면 설계가 혼란스러워지기 때문에 한 가지만 사용하는 것이 좋다.

###네임스페이스와 트리플 슬래시 임포트
- ECMAScript 2015 이전에는 자바스크립트에 공식적인 모듈 시스템이 없었기 때문에 타입스크립트는 module 키워드와 트리플 슬래시 임포트를 사용했다.
- 트래시 슬래시 임포트와 module 키워드는 호환성을 위해 남아있으며, ESMAScript 2015의 import와 export를 사용해야 한다.

### 데코레이터
- 데코레이터는 앵귤러 프레임워크를 지원하기 위해 추가되었으며 tsconfig.json에 experimentalDecorators 속성을 설정하고 사용해야 한다.
- 앵귤러를 사용하거나 애너테이션이 필요한 프레임워크를 사용하고 있는 게 아니라면, 데코레이터가 표준이 되기 전에는 타입스크립트에서 데코레이터를 사용하지 않는 게 좋다.
