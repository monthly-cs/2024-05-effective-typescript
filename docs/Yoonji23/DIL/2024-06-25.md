# item60. allowJs로 타입스크립트와 자바스크립트 같이 사용하기

대규모 프로젝트는 한꺼번에 작업하는 것이 불가능하므로 점진적으로 전환할 수 있어야 하고, 그러러면 마이그레이션 기간중에 자바스크립트와 타입스크립트가 동시에 동작할 수 있도록 해야 한다.

## allowJS 컴파일러 옵션

- 타입스크립트와 자바스크립트가 공존하는 방법의 핵심
- 타입스크립트 파일과 자바스크립트 파일을 서로 임포트 할 수 있게 해준다.
- 기존 빌드 과정에 타입스크립트 컴파일러를 추가하기 위해서는 allowJS 옵션이 필요하다

```javascript
$ browserify index.ts -p [ tsify --allowJs ] > bundle.js
```

## 유닛 테스트 도구에 설정하기

jest를 사용할 때에는 ts-jest를 설치하고 jest-config.js에 전달할 타입스크립트 소스를 지정하자

```typescript
module.export = {
  transform: {
    "^.+\\.tsx?$": "ts-jest",
  },
};
```

## 프레임워크 없이 직접 구성했다면 outDir 옵션 사용하기

이를 사용한다면 타입스크립트가 outDir에 지정된 디렉터리에 소스 디렉터리와 비슷한 구조로 자바스크립트 코드를 생성하게 되고, outDir로 지정된 디렉터리를 대상으로 기존 빌드 체인(import)를 실행하면 된다.
