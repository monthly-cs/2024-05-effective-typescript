# DIL: ì´í™í‹°ë¸Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸

> ìŠ¤í„°ë””: ì›”ê°„ CS, https://github.com/monthly-cs/2024-05-effective-typescript  
> ì‘ì„±ì¼: 2024-05-18
> ì‘ì„±ì: iamkanguk97

---

## ì•„ì´í…œ9: íƒ€ì… ë‹¨ì–¸ë³´ë‹¤ëŠ” íƒ€ì… ì„ ì–¸ì„ ì‚¬ìš©í•˜ê¸°

### ë³€ìˆ˜ì— ê°’ì„ í• ë‹¹í•˜ê³  íƒ€ì…ì„ ë¶€ì—¬í•˜ëŠ” ë°©ë²•ì€ 2ê°€ì§€

```typescript
interface Person {
  name: string;
}

const alice: Person = { name: 'Alice' }; // íƒ€ì…ì€ Person
const bob = { name: 'Alice' } as Person; // íƒ€ì…ì€ Person
```

- alice: ë³€ìˆ˜ì— `íƒ€ì… ì„ ì–¸`ì„ ë¶™ì—¬ì„œ ê·¸ ê°’ì´ ì„ ì–¸ëœ íƒ€ì…ì„ì„ ëª…ì‹œí•œë‹¤.
- bob: "as Person"ì„ í†µí•´ `íƒ€ì… ë‹¨ì–¸`ì„ ìˆ˜í–‰í•œë‹¤. ê·¸ëŸ¬ë©´ **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì¶”ë¡ í•œ íƒ€ì…ì´ ìˆë”ë¼ë„ Person íƒ€ì…ìœ¼ë¡œ ê°„ì£¼í•œë‹¤.**

### íƒ€ì… ë‹¨ì–¸ë³´ë‹¤ íƒ€ì… ì„ ì–¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```typescript
const alice: Person = {}; // ì˜¤ë¥˜: Person ìœ í˜•ì— í•„ìš”í•œ 'name' ì†ì„±ì´ ì—†ë‹¤.
const bob = {} as Person; // ì˜¤ë¥˜ ì—†ìŒ
```

- **íƒ€ì… ì„ ì–¸**: í• ë‹¹ë˜ëŠ” ê°’ì´ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ ê²€ì‚¬. (aliceì— í• ë‹¹ëœ ê°’ì´ Person ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œì¡±í•˜ëŠ”ì§€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í™•ì¸í•¨)
- **íƒ€ì… ë‹¨ì–¸**: ê°•ì œë¡œ íƒ€ì…ì„ ì§€ì •í–ˆê¸° ë•Œë¬¸ì— íƒ€ì… ì²´ì»¤ì—ê²Œ ì˜¤ë¥˜ë¥¼ ë¬´ì‹œí•˜ë¼ê³  í•˜ëŠ” ê²ƒ

ë§ˆì°¬ê°€ì§€ë¡œ ì†ì„±ì„ ì¸í„°í˜ì´ìŠ¤ì— ì¶”ê°€í•  ë•Œë„ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```typescript
const alice: Person = {
  name: 'Alice',
  occupation: 'TypeScript Developer',
  //~~~~~~~~~~~ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°
  //            'Person' í˜•ì‹ì— 'occupation'ì´ ì—†ìŠµë‹ˆë‹¤.
};

const bob = { name: 'Bob', occupation: 'JavaScript Developer' } as Person; // ì •ìƒ
```

> ì°¸ê³ ) const bob = <Person>{}
>
> - ìœ„ ë¬¸ë²•ì€ {} as Personê³¼ ë™ì¼í•˜ë‹¤.
> - í•˜ì§€ë§Œ ìœ„ì™€ ê°™ì€ ì½”ë“œëŠ” íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ + ë¦¬ì•¡í„°ì—ì„œ ì»´í¬ë„ŒíŠ¸ íƒœê·¸ë¡œ ì¸ì‹ë˜ê¸° ë•Œë¬¸ì— í˜„ì¬ëŠ” ì˜ ì“°ì§€ ì•ŠëŠ”ë‹¤.

### í™”ì‚´í‘œ í•¨ìˆ˜ì˜ íƒ€ì… ì„ ì–¸

í™”ì‚´í‘œ í•¨ìˆ˜ì˜ íƒ€ì… ì„ ì–¸ì€ ì¶”ë¡ ëœ íƒ€ì…ì´ ëª¨í˜¸í•  ë•Œê°€ ìˆë‹¤.

```typescript
// Person[]ì„ ì–¸í–ˆì§€ë§Œ ê²°ê³¼ëŠ” { name: string }[]
const people = ['alice', 'bob', 'jan'].map((name) => ({ name }));

const people = ['alice', 'bob', 'jan'].map((name) => ({ name } as Person)); // íƒ€ì… ë‹¨ì–¸ ì‚¬ìš© -> People[] ë°˜í™˜ë¨

const people = ['alice', 'bob', 'jan'].map((name) => ({} as Person)); // ì´ê²ƒë„ ë¬¸ì œê°€ ì—†ë‹¤ê³  ì¶”ë¡ ë¨
```

- ì²« ë²ˆì§¸ ì¤„ì—ì„œëŠ” ìš°ë¦¬ê°€ ì›í•˜ëŠ” Person[] ì´ ì¶”ë¡ ë˜ì§€ ì•Šì•˜ìŒ.
- ê·¸ë˜ì„œ íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•´ì„œ Person[]ì„ ì¶”ë¡ ë°›ì•˜ì§€ë§Œ ì‹¤ì œë¡œëŠ” í•´ê²°ëœ ê²ƒì´ ì•„ë‹ˆë‹¤.
- ë§ˆì§€ë§‰ ì¤„ì²˜ëŸ¼ ì½”ë“œë¥¼ ì‘ì„±í•´ë„ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤..

ê·¸ë˜ì„œ ìš°ë¦¬ëŠ” ë‹¨ì–¸ë¬¸ì„ ì“°ì§€ ì•Šê³  ë‹¤ìŒê³¼ ê°™ì´ í™”ì‚´í‘œ í•¨ìˆ˜ ì•ˆì—ì„œ íƒ€ì…ê³¼ í•¨ê»˜ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ê°€ì¥ ì§ê´€ì ì´ë‹¤.

```typescript
const people = ['alice', 'bob', 'jan'].map((name) => {
  const person: Person = { name };
  return person;
}); // íƒ€ì…ì€ Person[]

// ìœ„ì˜ ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ê°„ê²°í•˜ê²Œ!
const people = ['alice', 'bob', 'jan'].map((name): Person => ({ name }));
```

### DOM ì—˜ë¦¬ë¨¼íŠ¸ => íƒ€ì… ë‹¨ì–¸?

```typescript
document.querySelector('#myButton').addEventListener('click', (e) => {
  e.currentTarget; // íƒ€ì…ì€ EventTarget
  const button = e.currentTarget as HTMLButtonElement;
  button; // íƒ€ì…ì€ HTMLButtonElement
});
```

- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” DOMì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— `#myButton`ì´ ë²„íŠ¼ ì—˜ë¦¬ë¨¼íŠ¸ì¸ì§€ ì•Œì§€ ëª»í•œë‹¤.
- ê·¸ë¦¬ê³  ì´ë²¤íŠ¸ì˜ `currentTarget`ì´ ê°™ì€ ë²„íŠ¼ì´ì–´ì•¼ í•˜ëŠ” ê²ƒë„ ì•Œì§€ ëª»í•œë‹¤.
- ë”°ë¼ì„œ ì´ëŸ° ê²½ìš°ì—ëŠ” íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ íƒ€ë‹¹í•˜ë‹¤.

### Non-Null Assertion (Nullì´ ì•„ë‹ˆë¼ê³  ë‹¨ì–¸)

```typescript
const elNull = document.getElementById('foo'); // HTMLElement | null
const el = document.getElementById('foo')!; // HTMLElement
```

- !ëŠ” ì¼ë°˜ì ì¸ ë‹¨ì–¸ë¬¸ì²˜ëŸ¼ ìƒê°í•´ì•¼ í•œë‹¤.
- **ë‹¨ì–¸ë¬¸ì€ ì»´íŒŒì¼ ê³¼ì • ì¤‘ì— ì œê±°ë˜ê¸° ë•Œë¬¸ì— íƒ€ì… ì²´ì»¤ëŠ” ì•Œì§€ ëª»í•˜ì§€ë§Œ ê·¸ ê°’ì´ nullì´ ì•„ë‹ˆë¼ê³  ê°œë°œìê°€ í™•ì‹ í•  ìˆ˜ ìˆì„ ë•Œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.**
- **ë§Œì•½ í™•ì‹ í•˜ì§€ ëª»í•œë‹¤ë©´ nullì¸ ê²½ìš°ë¥¼ ì²´í¬í•˜ëŠ” ì¡°ê±´ë¬¸ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.**

### íƒ€ì… ë‹¨ì–¸ë¬¸ìœ¼ë¡œ ì„ì˜ì˜ íƒ€ì… ê°„ì— ë³€í™˜ì„ í•  ìˆ˜ ì—†ë‹¤.

- Aê°€ Bì˜ ë¶€ë¶„ì§‘í•©ì¸ ê²½ìš°ì—ëŠ” íƒ€ì… ë‹¨ì–¸ì„ ì‚¬ìš©í•´ì„œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.
  - HTMLElementëŠ” HTMLElement | nullì˜ ì„œë¸Œíƒ€ì…ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥.
  - HTMLButtonElementëŠ” EventTargetì˜ ì„œë¸Œíƒ€ì…ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥.
  - Personì€ {}ì˜ ì„œë¸Œíƒ€ì…ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤.
- **í•˜ì§€ë§Œ Personê³¼ HTMLElementëŠ” ì„œë¸Œíƒ€ì…ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë¶ˆê°€ëŠ¥.**

```typescript
interface Person {
  name: string;
}

const body = document.body;
const el = body as Person;
//         ~~~~~~~~~~~~~~ 'HTMLElement' í˜•ì‹ì„ 'Person' í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì€
//                        í˜•ì‹ì´ ë‹¤ë¥¸ í˜•ì‹ê³¼ ì¶©ë¶„íˆ ê²¹ì¹˜ì§€ ì•Šê¸° ë•Œë¬¸ì—
//                        ì‹¤ìˆ˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì´ ì˜ë„ì ì¸ ê²½ìš°ì—ëŠ”
//                        ë¨¼ì € ì‹ì„ 'unknown'ìœ¼ë¡œ ë³€í™˜í•˜ì‹­ì‹œì˜¤.
```

- ìœ„ì˜ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” `unknown` íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
- **ëª¨ë“  íƒ€ì…ì€ unknownì˜ ì„œë¸Œíƒ€ì…**ì´ê¸° ë•Œë¬¸ì— unknownì´ í¬í•¨ëœ ë‹¨ì–¸ë¬¸ì€ í•­ìƒ ë™ì‘í•œë‹¤.

### ìš”ì•½ì •ë¦¬ğŸ˜®

> - **íƒ€ì… ë‹¨ì–¸(as Type)ë³´ë‹¤ íƒ€ì… ì„ ì–¸(: Type)ì„ ì‚¬ìš©í•˜ì.**
>
> - **í™”ì‚´í‘œ í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ëª…ì‹œí•˜ëŠ” ë°©ë²•ì„ í„°ë“í•˜ì.**
>
> - **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë³´ë‹¤ íƒ€ì… ì •ë³´ë¥¼ ë” ì˜ ì•Œê³  ìˆëŠ” ìƒí™©ì—ì„œëŠ” íƒ€ì… ë‹¨ì–¸ë¬¸ê³¼ null ì•„ë‹˜ ë‹¨ì–¸ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.**

## ì•„ì´í…œ10: ê°ì²´ ë˜í¼ íƒ€ì… í”¼í•˜ê¸°

### JavaScript Immutable (ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¶ˆë³€ì„±)

- JavaScriptì—ëŠ” ê°ì²´ ì´ì™¸ì—ë„ ê¸°ë³¸í˜• ê°’ë“¤ì— ëŒ€í•œ ì¼ê³±ê°€ì§€ íƒ€ì…ì´ ìˆë‹¤.
  - string, number, boolean, null, undefined, symbol, bigint
- **ê¸°ë³¸í˜•ë“¤ì€ ë¶ˆë³€(immutable)ì´ê³  ë©”ì„œë“œë¥¼ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì—ì„œ ê°ì²´ì™€ êµ¬ë¶„ëœë‹¤.**
- **í•˜ì§€ë§Œ ê¸°ë³¸í˜•ì¸ stringì˜ ê²½ìš° ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.**

### ì˜ˆì‹œ: chatAt

```javascript
'primitive'.chatAt(3); // 'm'
```

- `charAt`ì€ stringì˜ ë©”ì„œë“œê°€ ì•„ë‹ˆê³  stringì„ ì‚¬ìš©í•  ë•Œ ì‹¤ì œë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ë¶€ì ìœ¼ë¡œ ë§ì€ ë™ì‘ì´ ì¼ì–´ë‚œë‹¤.
- string `'ê¸°ë³¸í˜•'`ì—ëŠ” ë©”ì„œë“œê°€ ì—†ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§€ëŠ” String `'ê°ì²´'` íƒ€ì…ì´ ì •ì˜ë˜ì–´ ìˆë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ë³¸í˜•ê³¼ ê°ì²´ íƒ€ì…ì„ ì„œë¡œ ììœ ë¡­ê²Œ ë³€í™˜í•œë‹¤.
- **string ê¸°ë³¸í˜•ì— charAt ê°™ì€ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ë³¸í˜•ì„ String ê°ì²´ë¡œ wrapping í•˜ê³  ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê³ , ë§ˆì§€ë§‰ì— wrappingí•œ ê°ì²´ë¥¼ ë²„ë¦°ë‹¤.**

### String.prototypeì„ monkey-patch

> ëª½í‚¤-íŒ¨ì¹˜(monkey-patch)
>
> - ëŸ°íƒ€ì„ì— í”„ë¡œê·¸ë¨ì˜ ì–´ë–¤ ê¸°ëŠ¥ì„ ìˆ˜ì •í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ë²•
> - ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ëŒ€í‘œì ìœ¼ë¡œ í”„ë¡œí† íƒ€ì…ì„ ë³€ê²½í•˜ëŠ” ê²ƒì´ í•´ë‹¹ëœë‹¤.

```javascript
const originalCharAt = String.prototype.charAt;
String.prototype.charAt = function (pos) {
  console.log(this, typeof this, pos);
  return originalCharAt.call(this, pos);
};
console.log('primitive'.charAt(3));

// ê²°ê³¼: [String: 'primitive'], 'object', 3
```

- ë©”ì„œë“œ ë‚´ì˜ thisëŠ” string ê¸°ë³¸í˜•ì´ ì•„ë‹Œ String ê°ì²´ ë˜í¼ì´ë‹¤.
- String ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±í•  ìˆ˜ë„ ìˆê³  string ê¸°ë³¸í˜•ì²˜ëŸ¼ ë™ì‘í•œë‹¤.
- í•˜ì§€ë§Œ string ê¸°ë³¸í˜•ê³¼ String ê°ì²´ ë˜í¼ê°€ í•­ìƒ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.

```javascript
'hello' === new String('hello'); // false
new String('hello') === new String('hello'); // false
```

- String ê°ì²´ëŠ” ì˜¤ì§ ìê¸° ìì‹ í•˜ê³ ë§Œ ë™ì¼í•˜ë‹¤.

### ê°ì²´ ë˜í¼ íƒ€ì…ì˜ ìë™ ë³€í™˜

> ê°ì²´ ë˜í¼ íƒ€ì…ì˜ ìë™ ë³€í™˜ì€ ì¢…ì¢… ë‹¹í™©ìŠ¤ëŸ¬ìš´ ë™ì‘ì„ ë³´ì¸ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì–´ë–¤ ì†ì„±ì„ ê¸°ë³¸í˜•ì— í• ë‹¹í•œë‹¤ë©´ ê·¸ ì†ì„±ì´ ì‚¬ë¼ì§„ë‹¤.

```javascript
x = 'hello';
x.language = 'English'; // English
x.language; // undefined
```

- xê°€ String ê°ì²´ë¡œ ë³€í™˜ëœ í›„ language ì†ì„±ì´ ì¶”ê°€ë˜ì—ˆê³  language ì†ì„±ì´ ì¶”ê°€ëœ ê°ì²´ëŠ” ë²„ë ¤ì§„ ê²ƒ.

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ ê¸°ë³¸í˜•ê³¼ ê°ì²´ ë˜í¼ íƒ€ì…

- stringê³¼ String
- numberì™€ Number
- booleanê³¼ Boolean
- symbolê³¼ Symbol
- bigintì™€ BigInt

```typescript
function getStringLen(foo: String) {
  return foo.length;
}

getStringLen('hello'); // ì •ìƒ
getStringLen(new String('hello')); // ì •ìƒ
```

ìœ„ì˜ ì½”ë“œëŠ” í¬ê²Œ ë¬¸ì œê°€ ì—†ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¼ ìˆ˜ ìˆë‹¤. **í•˜ì§€ë§Œ stringì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” ë©”ì„œë“œì— String ê°ì²´ë¥¼ ì „ë‹¬í•˜ê²Œ ë˜ë©´ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.**

```typescript
function isGreeting(phrase: String) {
  return ['hello', 'good day'].includes(phrase);
  //                                   ~~~~~~~~
  //                                   String í˜•ì‹ì˜ ì¸ìˆ˜ëŠ”
  //                                   string í˜•ì‹ì˜ ë§¤ê°œë³€ìˆ˜ì— í• ë‹¹ë  ìˆ˜ ì—†ë‹¤.
  //                                   stringì€ ê¸°ë³¸ ê°œì²´ì´ì§€ë§Œ Stringì€ ë˜í¼ ê°œì²´ì´ë‹¤.
  //                                   ê°€ëŠ¥í•œ ê²½ìš° stringì„ ì‚¬ìš©í•˜ì„¸ìš”.
}
```

- stringì€ Stringì— í• ë‹¹í•  ìˆ˜ ìˆì§€ë§Œ Stringì€ stringì— í• ë‹¹í•  ìˆ˜ ì—†ë‹¤.
- ëŒ€ë¶€ë¶„ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë§ˆì°¬ê°€ì§€ë¡œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì œê³µí•˜ëŠ” íƒ€ì… ì„ ì–¸ì€ ì „ë¶€ ê¸°ë³¸í˜• íƒ€ì…ìœ¼ë¡œ ë˜ì–´ìˆë‹¤.

## ì•„ì´í…œ11: ì‰ì—¬ ì†ì„± ì²´í¬ì˜ í•œê³„ ì¸ì§€í•˜ê¸°

### êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì 

```typescript
interface Room {
  numDoors: number;
  ceilingHeightFt: number;
}

const r: Room = {
  numDoors: 1,
  ceilingHeightFt: 10,
  elephant: 'present',
  //~~~~~~~~~~~~~~~~~~~ ê°œì²´ ë¦¬í„°ëŸ´ì€ ì•Œë ¤ì§„ ì†ì„±ë§Œ ì§€ì •í•  ìˆ˜ ìˆìœ¼ë©°
  //                    Room í˜•ì‹ì— elephantê°€ ì—†ìŠµë‹ˆë‹¤.
};
```

- êµ¬ì¡°ì  íƒ€ì´í•‘ ê´€ì ìœ¼ë¡œ ìƒê°í•´ë³´ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.

```typescript
const obj = {
  numDoors: 1,
  ceilingHeightFt: 10,
  elephant: 'present',
}; // { numDoors: number, ceilingHeightFt: number, elephant: string }
const r: Room = obj;
```

- obj íƒ€ì…ì€ Room íƒ€ì…ì˜ ë¶€ë¶„ì§‘í•©ì„ í¬í•¨í•˜ê¸° ë•Œë¬¸ì— Roomì— í• ë‹¹ì´ ê°€ëŠ¥í•˜ê³  íƒ€ì… ì²´ì»¤ë„ í†µê³¼í•œë‹¤.
- ì²« ë²ˆì§¸ ì˜ˆì œì—ì„œëŠ” êµ¬ì¡°ì  íƒ€ì… ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì¤‘ìš”í•œ ì¢…ë¥˜ì˜ ì˜¤ë¥˜ë¥¼ ì¡ì„ ìˆ˜ ìˆë„ë¡ "ì‰ì—¬ ì†ì„± ì²´í¬" ë¼ëŠ” ê³¼ì •ì´ ìˆ˜í–‰ë˜ì—ˆë‹¤.
  - ê·¸ëŸ¬ë‚˜ ì‰ì—¬ ì†ì„± ì²´í¬ ì—­ì‹œ ì¡°ê±´ì— ë”°ë¼ ë™ì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” í•œê³„ê°€ ìˆê³  í†µìƒì ì¸ í• ë‹¹ ê°€ëŠ¥ ê²€ì‚¬ì™€ í•¨ê»˜ ì“°ì´ë©´ êµ¬ì¡°ì  íƒ€ì´í•‘ì´ ë¬´ì—‡ì¸ì§€ í˜¼ë€ìŠ¤ëŸ¬ì›Œì§ˆ ìˆ˜ ìˆë‹¤.
  - ì‰ì—¬ ì†ì„± ì²´í¬ê°€ í• ë‹¹ ê°€ëŠ¥ ê²€ì‚¬ì™€ëŠ” ë³„ë„ì˜ ê³¼ì •ì´ë¼ëŠ” ê²ƒì„ ì•Œì•„ì•¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œì— ëŒ€í•œ ê°œë…ì„ ì¡ì„ ìˆ˜ ìˆë‹¤.
- íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¨ìˆœíˆ ëŸ°íƒ€ì„ì— ì˜ˆì™¸ë¥¼ ë˜ì§€ëŠ” ì½”ë“œì— ì˜¤ë¥˜ë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒë¿ ì•„ë‹ˆë¼ ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ì‘ì„±ëœ ì½”ë“œê¹Œì§€ ì°¾ìœ¼ë ¤ê³  í•œë‹¤.

```typescript
interface Options {
  title: string;
  darkMode?: boolean;
}

function createWindow(options: Options) {
  if (options.darkMode) {
    setDarkMode();
  }
  // ...
}

createWindow({
  title: 'Spider Solitaire',
  darkMode: true,
});
```

## ì•„ì´í…œ12: í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì… ì ìš©í•˜ê¸°

### í•¨ìˆ˜ ë¬¸ì¥(statement) vs í•¨ìˆ˜ í‘œí˜„ì‹(expression)

> ìë°”ìŠ¤í¬ë¦½íŠ¸(ê·¸ë¦¬ê³  íƒ€ì…ìŠ¤í¬ë¦½íŠ¸)ì—ì„œëŠ” **í•¨ìˆ˜ â€˜ë¬¸ì¥(statement)â€™**ê³¼ **í•¨ìˆ˜ â€˜í‘œí˜„ì‹(expression)â€™**ì„ ë‹¤ë¥´ê²Œ ì¸ì‹í•œë‹¤.

```typescript
function rollDice1(sides: number): number {} // ë¬¸ì¥
const rollDice2 = function (sides: number): number {}; // í‘œí˜„ì‹
const rollDice3 = (sides: number): number => {}; // í‘œí˜„ì‹
```

### íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” `í•¨ìˆ˜ í‘œí˜„ì‹`ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

```typescript
type DiceRollFn = (sides: number) => number;
const rollDice: DiceRollFn = (sides) => {
  /* ... */
};
```

- **í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ë¶€í„° ë°˜í™˜ê°’ê¹Œì§€ ì „ì²´ë¥¼ í•¨ìˆ˜ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸**í•˜ì—¬ **í•¨ìˆ˜ í‘œí˜„ì‹ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì **ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

### í•¨ìˆ˜ ì„ ì–¸ì˜ ì¥ì 

#### **ë¶ˆí•„ìš”í•œ ì½”ë“œì˜ ë°˜ë³µì„ ì¤„ì—¬ì¤€ë‹¤**

```typescript
function add(a: number, b: number) {
  return a + b;
}
function sub(a: number, b: number) {
  return a - b;
}
function mul(a: number, b: number) {
  return a * b;
}
function div(a: number, b: number) {
  return a / b;
}

// ë°˜ë³µë˜ëŠ” í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ í•˜ë‚˜ì˜ í•¨ìˆ˜ íƒ€ì…ìœ¼ë¡œ í†µí•©í•˜ì.
type BinaryFn = (a: number, b: number) => number;

const add: BinaryFn = (a, b) => a + b;
const sub: BinaryFn = (a, b) => a - b;
const mul: BinaryFn = (a, b) => a * b;
const div: BinaryFn = (a, b) => a / b;

/**
 * ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ê²Œ ë˜ë©´ í•¨ìˆ˜ êµ¬í˜„ë¶€ë„ ë¶„ë¦¬ë˜ì–´ ìˆì–´ì„œ ë¡œì§ì´ ë³´ë‹¤ ë¶„ëª…í•´ì§„ë‹¤.
 */
```

#### **ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê³µí†µ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ íƒ€ì…ìœ¼ë¡œ ì œê³µí•˜ê¸°ë„ í•œë‹¤**

```typescript
// @types/react/index.d.ts -> MouseEventHandler
// Element Të¥¼ Genericìœ¼ë¡œ ë°›ì•„ì„œ MouseEvent<T>ë¡œ ë„˜ê¸°ê³  ì´í›„ EventHandlerì—ë„ ë„˜ê¸´ë‹¤.
type MouseEventHandler<T = Element> = EventHandler<MouseEvent<T>>;

type EventHandler<E extends SyntheticEvent<any>> = {
  bivarianceHack(event: E): void;
}['bivarianceHack'];
```

- ReactëŠ” í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ì— ëª…ì‹œí•˜ëŠ” MouseEvent íƒ€ì… ëŒ€ì‹ ì— í•¨ìˆ˜ ì „ì²´ì— ì ìš©í•  ìˆ˜ ìˆëŠ” MouseEventHandler íƒ€ì…ì„ ì œê³µí•œë‹¤.
- ë§Œì•½ ê°œì¸ì ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°œë°œí•˜ê³  ìˆëŠ”ê²Œ ìˆë‹¤ë©´ **ê³µí†µ ì½œë°± í•¨ìˆ˜ë¥¼ ìœ„í•œ íƒ€ì… ì„ ì–¸ì„ ì œê³µí•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**

#### **ì‹œê·¸ë‹ˆì²˜ê°€ ì¼ì¹˜í•˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ìˆì„ ë•Œë„ í•¨ìˆ˜ í‘œí˜„ì‹ì— íƒ€ì…ì„ ì ìš©í•˜ì.**

> ì˜ˆë¥¼ ë“¤ì–´, ì›¹ë¸Œë¼ìš°ì €ì—ì„œ fetch í•¨ìˆ˜ëŠ” íŠ¹ì • ë¦¬ì†ŒìŠ¤ì— HTTP ìš”ì²­ì„ ë³´ë‚¸ë‹¤.

```typescript
const responseP = fetch('/quote?by=Mark+Twain'); // íƒ€ì…ì´ Promise<Response>

// response.json() ë˜ëŠ” response.text()ë¥¼ ì‚¬ìš©í•´ì„œ ì‘ë‹µì˜ ë°ì´í„° ì¶”ì¶œ
async function getQuote() {
  const response = await fetch('/quote?by=Mark+Twain');
  const quote = await response.json();
  return quote;
}
```

- /quoteê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” APIë¼ë©´ '404 Not Found'ê°€ í¬í•¨ëœ ë‚´ìš©ì„ ì‘ë‹µí•œë‹¤.
- ì‘ë‹µì€ JSON í˜•ì‹ì´ ì•„ë‹ ìˆ˜ ìˆë‹¤.
- response.json()ì€ JSON í˜•ì‹ì´ ì•„ë‹ˆë¼ëŠ” ìƒˆë¡œìš´ ì˜¤ë¥˜ ë©”ì„¸ì§€ë¥¼ ë‹´ì•„ ê±°ì ˆëœ Promiseë¥¼ ë°˜í™˜í•œë‹¤.
- í˜¸ì¶œí•œ ê³³ì—ëŠ” ìƒˆë¡œìš´ ì˜¤ë¥˜ ë©”ì„¸ì§€ê°€ ì „ë‹¬ë˜ì–´ ì‹¤ì œ ì˜¤ë¥˜ì¸ 404ê°€ ê°ì¶”ì–´ì§„ë‹¤.
- ê·¸ë¦¬ê³  fetchê°€ ì‹¤íŒ¨í•˜ë©´ ê±°ì ˆëœ Promiseë¥¼ ì‘ë‹µí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ëŠ” ê±¸ ê°„ê³¼í•˜ê¸° ì‰½ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìƒíƒœ ì²´í¬ë¥¼ ìˆ˜í–‰í•´ ì¤„ checkedFetch í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ì.

```typescript
// lib.dom.d.ts
declare function fetch(
  input: RequestInfo,
  init?: RequestInit
): Promise<Response>;

const checkedFetch: typeof fetch = async (input, init) => {
  const response = await fetch(input, init);
  if (!response.ok) {
    // ë¹„ë™ê¸° í•¨ìˆ˜ ë‚´ì—ì„œëŠ” ê±°ì ˆëœ í”„ë¡œë¯¸ìŠ¤ë¡œ ë³€í™˜í•œë‹¤.
    throw new Error('Request failed: ' + response.status);
  }
  return response;
};
```

- í•¨ìˆ˜ ë¬¸ì¥ì„ **í•¨ìˆ˜ í‘œí˜„ì‹ìœ¼ë¡œ ë°”ê¿”ì£¼ë©´ì„œ í•¨ìˆ˜ ì „ì²´ì— íƒ€ì…(typeof fetch)ì„ ì ìš©**í–ˆë‹¤.
  - ì´ì— ëŒ€í•œ ê²°ê³¼ë¡œ **íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ inputê³¼ initì˜ íƒ€ì…ì„ ì¶”ë¡ **í•  ìˆ˜ ìˆê²Œ í–ˆë‹¤.

### ğŸ˜®ìš”ì•½ì •ë¦¬ğŸ˜®

> **ë§¤ê°œë³€ìˆ˜ë‚˜ ë°˜í™˜ ê°’ì— íƒ€ì…ì„ ëª…ì‹œí•˜ê¸°ë³´ë‹¤ëŠ” í•¨ìˆ˜ í‘œí˜„ì‹ ì „ì²´ì— íƒ€ì… êµ¬ë¬¸ì„ ì ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.**
>
> **ë§Œì•½ ê°™ì€ íƒ€ì… ì‹œê·¸ë‹ˆì²˜ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì‘ì„±í•œ ì½”ë“œê°€ ìˆë‹¤ë©´ í•¨ìˆ˜ íƒ€ì…ì„ ë¶„ë¦¬í•´ ë‚´ê±°ë‚˜ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” íƒ€ì…ì„ ì°¾ì•„ë³´ë„ë¡ í•˜ì. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§ì ‘ ë§Œë“ ë‹¤ë©´ ê³µí†µ ì½œë°±ì— íƒ€ì…ì„ ì œê³µí•´ì•¼ í•œë‹¤.**
>
> **ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì°¸ì¡°í•˜ë ¤ë©´ typeof fnì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.**
